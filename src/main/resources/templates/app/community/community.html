<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì»¤ë®¤ë‹ˆí‹°ê²Œì‹œíŒ</title>
    <link rel="stylesheet" href="/css/community/community.css">
    <link rel="stylesheet" href="/css/fix/header.css">
    <link rel="stylesheet" href="/css/fix/footer.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">
</head>
<style>
    *{
        font-family: "Noto Sans KR" !important;
    }
</style>
<body>
<div th:if="${session.userId}">
    <header th:replace="/app/fix/header.html :: header"/>
</div>
<div th:unless="${session.userId}">
    <header th:replace="/app/fix/headerModify.html:: header"/>
</div>
<input style="display:none;" th:value="${session.userId}" name="userId">
<div class="SocialFeedPage__Wrapper-ky5ymg-0 fzBbGO">
    <div class="SocialFeedPage__Header-ky5ymg-1 jIjcTX">
        <div style="padding-left: 20px; padding-right: 20px;">
            <!--ë§¨ ìœ„ ì œëª©-->
            <span class="SocialFeedPage__Title-ky5ymg-2 gVPyuz">ë§ˆìŒê» ì´ì•¼ê¸° í•´ë³´ì„¸ìš” </span>
            <button class="SocialFeedPage__TooltipButton-ky5ymg-3 cUtFFV">
                <img style="padding-bottom: 5px"; src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='17' height='17' viewBox='0 0 17 17'%3E %3Cpath fill='%23CCC' d='M8.5 0C13.194 0 17 3.806 17 8.5S13.194 17 8.5 17 0 13.194 0 8.5 3.806 0 8.5 0zm0 1.5c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7zm-.09 9.22c.613 0 .92.32.92.96 0 .64-.307.96-.92.96-.607 0-.91-.32-.91-.96 0-.64.303-.96.91-.96zm.15-5.95c.627 0 1.123.157 1.49.47.393.333.59.81.59 1.43 0 .313-.09.62-.27.92-.073.113-.163.24-.27.38l-.47.54c-.053.06-.1.12-.14.18-.107.133-.19.26-.25.38-.16.293-.223.597-.19.91H7.77c-.053-.367-.01-.717.13-1.05.053-.133.13-.273.23-.42.073-.113.167-.24.28-.38l.56-.68c.173-.247.26-.473.26-.68 0-.547-.283-.82-.85-.82-.38 0-.75.187-1.11.56l-.81-.74c.273-.313.58-.553.92-.72.367-.187.76-.28 1.18-.28z'/%3E %3C/svg%3E" alt="í”„ë¦½ í”¼ë“œë€?"></button>
        </div>
        <!-- ê¸€ì‘ì„± ë²„íŠ¼ -->
        <a th:href="@{/community/register}" style="margin-right: -8px" class="down785px">
            <div class="writeBtn" >
                <button class="PlusLink__IconBtn-sc-7f77eh-0 faWmEE">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='20' viewBox='0 0 18 20'%3E %3Cpath fill='%234E5968' fill-rule='evenodd' d='M9 .765c.552 0 1 .447 1 1v7.392h7c.552 0 1 .448 1 1v.098c0 .552-.448 1-1 1h-7v7.392c0 .552-.448 1-1 1s-1-.448-1-1v-7.392H1c-.552 0-1-.448-1-1v-.098c0-.552.448-1 1-1h7V1.765c0-.553.448-1 1-1z'/%3E %3C/svg%3E" alt="+">
                </button>
            </div>
        </a>
    </div>


    <!-- í•„í„° ì¶”ê°€ -->
    <div class="Filter__FilterButtonWrapper-sc-1buujtg-1 gRnEmw">
        <div class="filter_wrapper_3l">
            <div class="FilterAll__Wrapper-tqa6fq-0 jJIWoq">
                <div class="FilterOpenButton__Wrapper-sc-91gci-0 NVKNq allFilter">
                    <button height="auto" color="initial" font-size="14px" font-weight="500" class="Button-bqxlp0-0 fFBpBV">
                        ì „ì²´
                        <button height="18px" class="Button-bqxlp0-0 FilterOpenButton__CloseButton-sc-91gci-1 gRNDCb">
                            <img src="/imgin/community/blueClose.png" class="FilterOpenButton__CloseIcon-sc-91gci-2 hnfyOW"></button></button>
                </div>
            </div>
            <div class="FilterCook__Wrapper-sc-1w6ksuy-0 jJIWoq">
                <div class="FilterOpenButton__Wrapper-sc-91gci-0 NVKNq childFilter cookFilter">
                    <button height="auto" color="initial" font-size="14px" font-weight="500" class="Button-bqxlp0-0 fFBpBV">
                        ìš”ë¦¬
                        <button height="18px" class="Button-bqxlp0-0 FilterOpenButton__CloseButton-sc-91gci-1 gRNDCb">
                            <img src="/imgin/community/blueClose.png" class="FilterOpenButton__CloseIcon-sc-91gci-2 hnfyOW"></button>
                    </button>
                </div>
            </div>
            <div class="FilterSports__Wrapper-sc-1w6ksuy-0 jJIWoq">
                <div class="FilterOpenButton__Wrapper-sc-91gci-0 NVKNq childFilter exerciseFilter">
                    <button height="auto" color="initial" font-size="14px" font-weight="500" class="Button-bqxlp0-0 fFBpBV">
                        ìš´ë™
                        <button height="18px" class="Button-bqxlp0-0 FilterOpenButton__CloseButton-sc-91gci-1 gRNDCb">
                            <img src="/imgin/community/blueClose.png" class="FilterOpenButton__CloseIcon-sc-91gci-2 hnfyOW"></button>
                    </button>
                </div>
            </div>
            <div class="FilterMovie__Wrapper-sc-1w6ksuy-0 jJIWoq">
                <div class="FilterOpenButton__Wrapper-sc-91gci-0 NVKNq childFilter movieFilter">
                    <button height="auto" color="initial" font-size="14px" font-weight="500" class="Button-bqxlp0-0 fFBpBV">
                        ì˜í™”
                        <button height="18px" class="Button-bqxlp0-0 FilterOpenButton__CloseButton-sc-91gci-1 gRNDCb">
                            <img src="/imgin/community/blueClose.png" class="FilterOpenButton__CloseIcon-sc-91gci-2 hnfyOW"></button>
                    </button>
                </div>
            </div>
            <div class="FilterBook__Wrapper-sc-1w6ksuy-0 jJIWoq">
                <div class="FilterOpenButton__Wrapper-sc-91gci-0 NVKNq childFilter bookFilter">
                    <button height="auto" color="initial" font-size="14px" font-weight="500" class="Button-bqxlp0-0 fFBpBV">
                        ì±…
                        <button height="18px" class="Button-bqxlp0-0 FilterOpenButton__CloseButton-sc-91gci-1 gRNDCb">
                            <img src="/imgin/community/blueClose.png" class="FilterOpenButton__CloseIcon-sc-91gci-2 hnfyOW"></button>
                    </button>
                </div>
            </div>
            <div class="FilterDiary__Wrapper-sc-1w6ksuy-0 jJIWoq">
                <div class="FilterOpenButton__Wrapper-sc-91gci-0 NVKNq childFilter diaryFilter">
                    <button height="auto" color="initial" font-size="14px" font-weight="500" class="Button-bqxlp0-0 fFBpBV">
                        ì¼ê¸°
                        <button height="18px" class="Button-bqxlp0-0 FilterOpenButton__CloseButton-sc-91gci-1 gRNDCb">
                            <img src="/imgin/community/blueClose.png" class="FilterOpenButton__CloseIcon-sc-91gci-2 hnfyOW"></button>
                    </button>
                </div>
            </div>
        </div>
        <!-- ê¸€ì‘ì„± ë²„íŠ¼ -->
        <a th:href="@{/community/register}" style="margin-right: -8px" class="until785px">
            <div class="writeBtn" >
                <button class="PlusLink__IconBtn-sc-7f77eh-0 faWmEE">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='20' viewBox='0 0 18 20'%3E %3Cpath fill='%234E5968' fill-rule='evenodd' d='M9 .765c.552 0 1 .447 1 1v7.392h7c.552 0 1 .448 1 1v.098c0 .552-.448 1-1 1h-7v7.392c0 .552-.448 1-1 1s-1-.448-1-1v-7.392H1c-.552 0-1-.448-1-1v-.098c0-.552.448-1 1-1h7V1.765c0-.553.448-1 1-1z'/%3E %3C/svg%3E" alt="+">
                </button>
            </div>
        </a>
    </div>



    <div class="Fade__Wrapper-sc-1s0ipfq-0 koasSX" style="opacity: 1; display: block;">
        <div class="view__FeedListWrapper-sc-1fff32g-0 ciajVR">

            <!--ë³¸ë¬¸ ê²Œì‹œê¸€ -->
        </div>
    </div>
</div>



<!-- í˜ì´ì§€ ì„¤ëª… ëª¨ë‹¬ -->
<div id="modal-page">
    <div>
        <div class="ActionSheet__Container-akkdcx-0 jgFMVr pageIntroduce_modalContainer_1h">
            <div class="ActionSheet__Content-akkdcx-2 cyEVkt pageIntroduce_Container_1h">
                <header class="ActionSheet__Header-akkdcx-3"></header><header class="Ver4__TitleVer4-d1i4tu-0 kNwzQK " style=" padding: 35px 20px 0px;
    font-size: 22px; line-height: 30px;color: rgb(51, 61, 75); font-weight: bold;">ììœ ê²Œì‹œíŒ í™œìš©ë²•</header>
                <div class="WhatIsActionSheet__Body-sc-10e5q0f-0 cblWvR">
                    <strong class="WhatIsActionSheet__Summary-sc-10e5q0f-1 bAnoxg">ììœ ê²Œì‹œíŒì„ í†µí•´ ë‚˜ë¥¼ í‘œí˜„í•˜ê³  <span role="img" aria-label="sunglasses">ğŸ˜</span><br>
                        ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ ë§ˆìŒê» ì†Œí†µ í•´ë³´ì„¸ìš”.</strong>
                    <p class="WhatIsActionSheet__Description-sc-10e5q0f-2 dkImul">
                        ììœ ê²Œì‹œíŒì—ì„œ ì¦ê±°ì› ê³  í–‰ë³µí–ˆë˜ ìˆœê°„ë“¤ì„ ë˜ëŠ” ìŠ¬í”„ê³  ì†ìƒí–ˆë˜ ìˆœê°„ë“¤ì„ ììœ ë¡­ê²Œ í‘œí˜„í•˜ë©° ë‚˜ì˜ ì†ë§ˆìŒì„ í„¸ì–´ë³´ì„¸ìš”.<br> ê·¸ë¦¬ê³  ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ ë‚˜ì˜ ë§ˆìŒì„ ê³µìœ í•´ ë³´ì„¸ìš”.
                    </p>
                    <p class="WhatIsActionSheet__Comment-sc-10e5q0f-3 cMDWip">
                        ë‚˜ë¥¼ ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ ë¹„êµí•˜ì§€ë§ˆì„¸ìš”. ì¶©ë¶„íˆ ì˜í•´ë‚´ê³  ìˆìŠµë‹ˆë‹¤.
                    </p>
                </div>
                <img src="https://www.frip.co.kr/365535eb402ce8672ce933afcebe47b9.png" class="WhatIsActionSheet__ImageBanner-sc-10e5q0f-4 kYigqi">
            </div>
            <div class="ActionSheet__Overlay-akkdcx-1 eCzJv">
            </div>
        </div>
    </div>
</div>
<!-- ì‹ ê³  ëª¨ë‹¬-->
<div id="modal-root">
    <div>
        <div class="Dialog__Container-sc-16kwpqb-0 htiyxZ">
            <div class="BodyScrollLockContainer__Container-sc-19uqzq5-0 idpZym Dialog__StyledBodyScrollLockContainer-sc-16kwpqb-1 dCXZYJ">
                <div class="Dialog__Content-sc-16kwpqb-5 ibqqJA">
                    <div class="DialogDelete__Content-p8gubf-0 jZuxbV"><p>í•´ë‹¹ ê²Œì‹œê¸€ì„</p>
                        <p>ì‹ ê³  í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p></div>
                </div>
                <div class="Dialog__ButtonGroup-sc-16kwpqb-6 bZEORB">
                    <button width="100%" height="auto" color="black"
                            class="Button-bqxlp0-0 Dialog__StyledButton-sc-16kwpqb-7 kXWQPc">ì·¨ì†Œ
                    </button>
                    <button width="100%" height="auto" color="#ff6666" font-weight="bold"
                            class="Button-bqxlp0-0 Dialog__StyledButton-sc-16kwpqb-7 bQKwTd">ì‹ ê³ 
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!--ë¡œë”©ì¤‘-->
<div class="back-drop" style="display:none;">
    <img src="./svg/spinner-solid.svg"/>
</div>
</body>
<script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
<script src="/js/community/community.js"></script>
<script src="/js/fix/header.js"></script>
<script src="/js/community/communityClick.js"></script>
<script>
    const $wrapper = $(".jIjcTX");
    $wrapper.next().css("overflow-x","unset");
    // $(".writeBtn").css("right","30.4%");

    checkUser();

    function checkUser(){
        if($("input[name='userId']").val()==""){
            showWithOutUser();
        }
        else{
            show();
        }
    }

    // í™”ë©´ ì¶œë ¥ í•¨ìˆ˜ í˜¸ì¶œ
    function show() {
        console.log(communityService);
        communityService.getList({
            page: page
        }, getList);
    }

    function showWithOutUser() {
        console.log(communityService);
        communityService.getListNotUser({
            page: page
        }, getList);
    }




    /*í™”ë©´ ì¶œë ¥*/
    function getList(communityPostDTO){
        let text ="";
        console.log(communityPostDTO);
        communityPostDTO.forEach(post => {

            let imageSrc = "/community/display?fileName=" + post.communityFilePath + "/" + post.communityFileUuid + "_" + post.communityFileName;
            let userImageSrc = "/community/display?fileName=" + post.userFilePath + "/" + post.userFileUuid + "_" + post.userFileName;
            // ì‘ì„±ì í”„ë¡œí•„ ì‚¬ì§„, ë‹‰ë„¤ì„
            text +=`<div><div class="Profile__Wrapper-sc-14xkqhl-0 ePpOcl CardFeed__StyledProfile-sc-1hnsnr8-0 kHXXhk">`;
            text +=`<div class="Profile__UserProfileWrapper-sc-14xkqhl-1 jHdfwa">`;
            text += `<div class="Profile__ProfileImageWrapper-sc-14xkqhl-2 kHBCa-D">`;
            text +=`<div class="Image__Wrapper-v97gyx-0 gDuKGF">`;

            <!--í”„ë¡œí•„ ì‚¬ì§„-->
            text +=`<div class="Fade__Wrapper-sc-1s0ipfq-0 koasSX" style="opacity: 1; display: block;">`;
            text +=`<div class="Ratio " style="display: block;">`;
            text +=`<div class="Ratio-ratio " style="height: 0px; position: relative; width: 100%; padding-top: 100%;">`;
            text+=`<div class="Ratio-content " style="height: 100%; left: 0px; position: absolute; top: 0px; width: 100%;">`;
            text +=`<img class="Image__StyledImage-v97gyx-1 hPRDQO" width="36" height="36" src="`;
            // í”„ë¡œí•„ ì‚¬ì§„ ì´ë¯¸ì§€ ë¶€ë¶„
            if(post.userFileName){
                text+=userImageSrc;
            } else{
                text +=`/imgin/user.png`;
            }
            text +=`"></div></div></div></div></div></div>`;
            <!--ì‘ì„±ì ì•„ì´ë””, ë‚ ì§œ-->
            text+=`<div class="Profile__UserTextWrapper-sc-14xkqhl-4 hopp"><p class="Profile__Name-sc-14xkqhl-3 jeiGkC">`;
            // ì•„ì´ë””
            text+= post.userNickName;
            text+=`</p><div class="Profile__Time-sc-14xkqhl-5 gqDWoy">`;
            //ë‚ ì§œ
            text+= post.updatedDate;
            text+=`</div></div></div><button class="Profile__MoreButton-sc-14xkqhl-6 lbwitP" onclick="modalOpen()">`;
            <!--ë„ì‹œë½ ë²„íŠ¼ + ì‹ ê³  ë²„íŠ¼-->
            text+=`<img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='17' viewBox='0 0 4 17'%3E %3Cpath fill='%23999' fill-rule='evenodd' d='M1.57 14a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm0-7a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm0-7a1.5 1.5 0 110 3 1.5 1.5 0 010-3z'/%3E %3C/svg%3E" alt=""></button></div>`;
            text+=`<a class="goCommunity" href="`+ "/community/read?communityPostId=" + post.communityPostId +`">`;
            text+=`<div class="Ratio ImageBanner__Wrapper-dpw3a4-0 jZxoCa" style="display: block;">`;
            text+=`<div className = "Ratio-ratio " style = "height: 0px; position: relative; width: 100%; padding-top: 100%;">`;
            text+=`<div class="Ratio-content " style="height: 100%; left: 0px; position: absolute; top: 0px; width: 100%;">`
            text+=`<div class="FeedImage__Wrapper-sc-1g1oaf4-0 jGjBCL">`;
            text+=`<div class="Fade__Wrapper-sc-1s0ipfq-0 koasSX" style="opacity: 1; display: block;"><div><img src="`;
            // ì¸ë„¤ì¼ ì´ë¯¸ì§€
            text+=imageSrc;
            text+=`"></div></div></div></div></div></div>`;
            <!--ë³¸ë¬¸ ë‚´ìš©-->

            text+=`<div class="Description__Wrapper-ogh69p-0 lhIpIh CardFeed__StyledDescription-sc-1hnsnr8-2 eOhuaj" style="margin-top:10px;">`;
            text+=`<span class="SpanLineClamp-my36n9-0 Description__StyledSpanLineClamp-ogh69p-2 dwGwRt">`;
            // ë³¸ë¬¸ í…ìŠ¤íŠ¸
            text+=post.communityTitle;
            text+=`</span><button class="Description__ExpandButton-ogh69p-1 djffyn"></button></div></a>`;
            // ì¢‹ì•„ìš”, ëŒ“ê¸€
            text+=`<div class="ActionGroup__Wrapper-sg91np-0 cXiDYn">`;
            text+=`<a class="ActionGroup__LikeButton-sg91np-1 jxmvcs" href="`;
            text+=post.communityPostId + `">`;
            // ì¢‹ì•„ìš” ëˆŒë €ì„ ë•Œ ì´ë¯¸ì§€
            if($("input[name='userId']").val()==""){
                text+=`<img class="checkLike likePlus" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='21' height='18' viewBox='0 0 21 18'%3E %3Cpath fill='none' stroke='%234E5968' stroke-width='1.5' d='M15.657.75c-1.226 0-2.379.485-3.246 1.365l-1.91 1.94-1.912-1.94C7.722 1.235 6.57.75 5.343.75s-2.378.485-3.245 1.365C1.198 3.028.75 4.227.75 5.425c0 1.199.448 2.398 1.348 3.31l8.425 8.504 8.379-8.504c.9-.912 1.348-2.111 1.348-3.31 0-1.198-.448-2.397-1.347-3.31-.867-.88-2.02-1.365-3.246-1.365z'/%3E %3C/svg%3E" alt="ì¢‹ì•„ìš”~"><span class="likeNumber">`;
            }
            else if(!post.checkLike){
                text+=`<img class="checkLike likeCancel" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='21' height='18' viewBox='0 0 21 18'%3E %3Cpath fill='%23F32D2D' d='M19.437 1.589C18.427.564 17.085 0 15.657 0s-2.77.564-3.78 1.589L10.5 2.986 9.124 1.59C8.114.564 6.77 0 5.344 0c-1.429 0-2.771.564-3.78 1.589-2.085 2.115-2.085 5.557 0 7.673l8.379 8.504c.148.15.348.234.557.234.209 0 .41-.084.557-.234l8.38-8.504c2.084-2.116 2.084-5.558 0-7.673z'/%3E %3C/svg%3E" alt="ì¢‹ì•„ìš”~"><span>`;
            }
            else{
                // ì¢‹ì•„ìš” ì•ˆëˆŒì—ˆì„ ë•Œ ì´ë¯¸ì§€
                text+=`<img class="checkLike likePlus" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='21' height='18' viewBox='0 0 21 18'%3E %3Cpath fill='none' stroke='%234E5968' stroke-width='1.5' d='M15.657.75c-1.226 0-2.379.485-3.246 1.365l-1.91 1.94-1.912-1.94C7.722 1.235 6.57.75 5.343.75s-2.378.485-3.245 1.365C1.198 3.028.75 4.227.75 5.425c0 1.199.448 2.398 1.348 3.31l8.425 8.504 8.379-8.504c.9-.912 1.348-2.111 1.348-3.31 0-1.198-.448-2.397-1.347-3.31-.867-.88-2.02-1.365-3.246-1.365z'/%3E %3C/svg%3E" alt="ì¢‹ì•„ìš”~"><span class="likeNumber">`;
            }
            // ì¢‹ì•„ìš” ê°œìˆ˜
            text+= post.communityLikeNumber;
            text+=`</span></a>`;
            text+=`<a class="goReplyBoard" style="display: flex;margin-top: 1px;" href=`;
            text+=post.communityPostId;
            text+=`>`;
            text+=`<img class="ActionGroup__ReplyLink-sg91np-2 grCiwo" src="`;
            text+=`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='21' height='18' viewBox='0 0 21 18'%3E %3Cpath fill='none' stroke='%234E5968' stroke-width='1.5' d='M20.25.75H.75v11.818h3.842v4.015l5.9-4.015h9.758V.75z'/%3E %3C/svg%3E`;
            text+=`" alt="ëŒ“ê¸€">`;
            text+=`<span>`;
            // ëŒ“ê¸€
            text+=post.communityReplyCount;
            text+=`</span></img></a></div></div>`;
        })
        $(".view__FeedListWrapper-sc-1fff32g-0.ciajVR").append(text);
    }
</script>
</html>